{"ast":null,"code":"var _jsxFileName = \"/Users/hyf/Documents/Omnigame/Data_fetching/data-fetching/src/SearchBoxFunction.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, createContext } from \"react\";\nimport { SearchBox } from \"./SearchBox\";\nimport { DisplayUsers } from \"./DisplayUsers\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const resultContext = /*#__PURE__*/createContext();\nconst SearchBoxFunction = () => {\n  _s();\n  const [serchInputValue, setSerchInputValue] = useState(\"\");\n  const [fetchResult, setFetchResult] = useState([]);\n  const [loading, setLoading] = useState(\"\");\n  const [errorMessage, setError] = useState(\"\");\n  const getData = async () => {\n    if (serchInputValue === \"\") {\n      setFetchResult([]);\n      setLoading(\"\");\n      return;\n    }\n    setLoading(\"loading...\");\n    fetch(`https://api.github.com/search/users?q=${serchInputValue}`).then(response => {\n      if (!response.ok) {\n        response.json().then(error => {\n          setError(error.message);\n          setFetchResult([]);\n        });\n        return;\n      }\n      return response.json();\n    }).then(data => {\n      if (data) {\n        setFetchResult(data.items);\n        setError();\n      }\n    }).catch(error => {\n      setFetchResult([]);\n      setError(error.Error || error.message);\n    }).finally(() => setLoading(\"\"));\n  };\n  useEffect(() => {\n    getData();\n  }, [serchInputValue]);\n  function onChangeSearchInput(e) {\n    setSerchInputValue(e.target.value);\n    setLoading(\"loading...\");\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(resultContext.Provider, {\n      value: {\n        fetchResult,\n        loading,\n        serchInputValue,\n        errorMessage\n      },\n      children: [/*#__PURE__*/_jsxDEV(SearchBox, {\n        onChange: onChangeSearchInput,\n        value: serchInputValue\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DisplayUsers, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(SearchBoxFunction, \"hY/0+bVh9MM343IKTHUYzqBOhUc=\");\n_c = SearchBoxFunction;\nexport default SearchBoxFunction;\nvar _c;\n$RefreshReg$(_c, \"SearchBoxFunction\");","map":{"version":3,"names":["React","useEffect","useState","createContext","SearchBox","DisplayUsers","resultContext","SearchBoxFunction","serchInputValue","setSerchInputValue","fetchResult","setFetchResult","loading","setLoading","errorMessage","setError","getData","fetch","then","response","ok","json","error","message","data","items","catch","Error","finally","onChangeSearchInput","e","target","value"],"sources":["/Users/hyf/Documents/Omnigame/Data_fetching/data-fetching/src/SearchBoxFunction.js"],"sourcesContent":["import React, { useEffect, useState, createContext } from \"react\";\nimport { SearchBox } from \"./SearchBox\";\nimport { DisplayUsers } from \"./DisplayUsers\";\n\nexport const resultContext = createContext();\n\nconst SearchBoxFunction = () => {\n  const [serchInputValue, setSerchInputValue] = useState(\"\");\n  const [fetchResult, setFetchResult] = useState([]);\n  const [loading, setLoading] = useState(\"\");\n  const [errorMessage, setError] = useState(\"\");\n\n  const getData = async () => {\n    if (serchInputValue === \"\") {\n      setFetchResult([]);\n\n      setLoading(\"\");\n      return;\n    }\n\n    setLoading(\"loading...\");\n\n    fetch(`https://api.github.com/search/users?q=${serchInputValue}`)\n      .then((response) => {\n        if (!response.ok) {\n          response.json().then((error) => {\n            setError(error.message);\n            setFetchResult([]);\n          });\n          return;\n        }\n        return response.json();\n      })\n      .then((data) => {\n        if (data) {\n          setFetchResult(data.items);\n          setError();\n        }\n      })\n      .catch((error) => {\n         setFetchResult([]);\n         setError(error.Error || error.message)\n      })\n      .finally(() => setLoading(\"\"));\n  };\n  \n  useEffect(() => {\n    getData();\n  }, [serchInputValue]);\n\n\n  function onChangeSearchInput(e) {\n    setSerchInputValue(e.target.value);\n    setLoading(\"loading...\");\n  }\n\n  return (\n    <>\n      <resultContext.Provider\n        value={{ fetchResult, loading, serchInputValue, errorMessage }}\n      >\n        <SearchBox\n          onChange={onChangeSearchInput}\n          value={serchInputValue}\n        ></SearchBox>\n        <DisplayUsers />\n      </resultContext.Provider>\n    </>\n  );\n};\n\nexport default SearchBoxFunction;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,aAAa,QAAQ,OAAO;AACjE,SAASC,SAAS,QAAQ,aAAa;AACvC,SAASC,YAAY,QAAQ,gBAAgB;AAAC;AAAA;AAE9C,OAAO,MAAMC,aAAa,gBAAGH,aAAa,EAAE;AAE5C,MAAMI,iBAAiB,GAAG,MAAM;EAAA;EAC9B,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACQ,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACY,YAAY,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAE7C,MAAMc,OAAO,GAAG,YAAY;IAC1B,IAAIR,eAAe,KAAK,EAAE,EAAE;MAC1BG,cAAc,CAAC,EAAE,CAAC;MAElBE,UAAU,CAAC,EAAE,CAAC;MACd;IACF;IAEAA,UAAU,CAAC,YAAY,CAAC;IAExBI,KAAK,CAAE,yCAAwCT,eAAgB,EAAC,CAAC,CAC9DU,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;QAChBD,QAAQ,CAACE,IAAI,EAAE,CAACH,IAAI,CAAEI,KAAK,IAAK;UAC9BP,QAAQ,CAACO,KAAK,CAACC,OAAO,CAAC;UACvBZ,cAAc,CAAC,EAAE,CAAC;QACpB,CAAC,CAAC;QACF;MACF;MACA,OAAOQ,QAAQ,CAACE,IAAI,EAAE;IACxB,CAAC,CAAC,CACDH,IAAI,CAAEM,IAAI,IAAK;MACd,IAAIA,IAAI,EAAE;QACRb,cAAc,CAACa,IAAI,CAACC,KAAK,CAAC;QAC1BV,QAAQ,EAAE;MACZ;IACF,CAAC,CAAC,CACDW,KAAK,CAAEJ,KAAK,IAAK;MACfX,cAAc,CAAC,EAAE,CAAC;MAClBI,QAAQ,CAACO,KAAK,CAACK,KAAK,IAAIL,KAAK,CAACC,OAAO,CAAC;IACzC,CAAC,CAAC,CACDK,OAAO,CAAC,MAAMf,UAAU,CAAC,EAAE,CAAC,CAAC;EAClC,CAAC;EAEDZ,SAAS,CAAC,MAAM;IACde,OAAO,EAAE;EACX,CAAC,EAAE,CAACR,eAAe,CAAC,CAAC;EAGrB,SAASqB,mBAAmB,CAACC,CAAC,EAAE;IAC9BrB,kBAAkB,CAACqB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;IAClCnB,UAAU,CAAC,YAAY,CAAC;EAC1B;EAEA,oBACE;IAAA,uBACE,QAAC,aAAa,CAAC,QAAQ;MACrB,KAAK,EAAE;QAAEH,WAAW;QAAEE,OAAO;QAAEJ,eAAe;QAAEM;MAAa,CAAE;MAAA,wBAE/D,QAAC,SAAS;QACR,QAAQ,EAAEe,mBAAoB;QAC9B,KAAK,EAAErB;MAAgB;QAAA;QAAA;QAAA;MAAA,QACZ,eACb,QAAC,YAAY;QAAA;QAAA;QAAA;MAAA,QAAG;IAAA;MAAA;MAAA;MAAA;IAAA;EACO,iBACxB;AAEP,CAAC;AAAC,GA/DID,iBAAiB;AAAA,KAAjBA,iBAAiB;AAiEvB,eAAeA,iBAAiB;AAAC;AAAA"},"metadata":{},"sourceType":"module"}